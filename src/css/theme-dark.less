
&[data-theme="dark"] {
	layout {
		background: var( --content-bg );
		color: var( --content-fg );
		text-shadow: var( --text-shadow );
	}

	sidebar {
		&:after {
			border-color: var( --sidebar-border );
		}

		> .container {
			> div {
				background: var( --sidebar-bg );
			}
		}

		.sidebar-head {
			background: rgba(0,0,0,.1);
			color: var( --sidebar-fg );
			border-bottom-color: var( --sidebar-border );

			span {
				&:not(:first-child) {
					border-left-color: var( --sidebar-border );
				}
			}
		}

		.sidebar-body {
			.group-row {
				&:not(:last-child):after {
					background: var( --sidebar-border );
				}
			}

			.options {
				background: rgba(0,0,0,.05) linear-gradient(to bottom, rgba(0,0,0,.05), rgba(0,0,0,.175));
				border-color: rgba(0,0,0,.175);
				box-shadow: inset 0 1px 0 rgba(255,255,255,.075),
							0 1px 0 rgba(255,255,255,.075);

				> span {
					border-right-color: rgba(0,0,0,.15);

					&:not(.active) span {
						filter: invert() drop-shadow(0 1px 0 #333);
					}
				}
			}

			.styles {
				background: var( --sidebar-bg );
				border-bottom-color: var( --sidebar-border );
			}
		}
	}

	content {
		.head {
			background: rgba(0,0,0,.125);
			border-bottom-color: var( --sidebar-border );
			color: var( --content-fg );

			.icon-add {
				filter: invert() brightness(1.5) drop-shadow(0 1px 0 #333);
			}
		}

		.foot {
			background: rgba(0,0,0,.125);
			border-top-color: var( --sidebar-border );

			.cell-type {
				color: var( --content-fg );
				border-right-color: rgba(0,0,0,.15);
			}

			.cell-value {
				.formula {
					.formula-method {
						background: rgba(0,0,0,.25);
						color: var( --sidebar-fg );
						border-color: rgba(0,0,0,.15);
						filter: saturate(1.25) brightness(.9);
					}

					.formula-value {
						background: var( --sidebar-bg );
						border-color: rgba(0,0,0,.25);
						filter: saturate(1.5) brightness(1.125);
					}
				}
			}
		}
	}


	.selection textarea,
	table.sheet {
		color: var( --content-fg );
	}

	table.sheet {
		border-left-color: rgba(0,0,0,.25);
		border-top-color: rgba(0,0,0,.25);

		td {
			border-right-color: rgba(0,0,0,.25);
			border-bottom-color: rgba(0,0,0,.25);

			&.active {
				text-shadow: 0 0 0;
			}
		}
	}

	.table-tools {
		.tool {
			background: var( --content-bg );
			filter: brightness(1.1) saturate(1.15);
			box-shadow: 0 0 0 1px rgba(0,0,0,.175),
						0 2px 3px rgba(0,0,0,.35);
			color: var( --content-fg );

			&:before {
				filter: brightness(1.5) drop-shadow(0 1px 0 #333);
			}

			&.selectionÂ {
				border-color: #0ef;

				.handle {
					background: #0ef;
					box-shadow: 0 0 0 1px rgba(0,0,0,.175),
								0 1px 3px rgba(0,0,0,.35);
				}

				textarea {
					text-shadow: var( --text-shadow );
				}
			}
		}

		table {
			color: var( --content-fg );

			&.table-cols {
				filter: brightness(1.1) saturate(1.15);
				background: var( --content-bg );
				background-image: linear-gradient(to bottom, rgba(255,255,255,.05), rgba(0,0,0,.075));
				box-shadow: 0 0 0 1px rgba(0,0,0,.15),
							0 1px 3px rgba(0,0,0,.25);

				td {
					background: transparent;

					&:before { opacity: .75; }

					&:not(:last-child) {
						border-right-color: rgba(0,0,0,.15);
					}

					s {
						filter: grayscale(100%) brightness(1.85) drop-shadow(0 1px 0 #333);
					}
				}
			}

			&.table-rows {
				filter: brightness(1.1) saturate(1.15);
				background: var( --content-bg );
				background-image: linear-gradient(to right, rgba(0,0,0,.075), rgba(255,255,255,.025), rgba(0,0,0,.075));
				box-shadow: 0 0 0 1px rgba(0,0,0,.15),
							0 1px 3px rgba(0,0,0,.25),
							inset 0 3px 3px rgba(255,255,255,.05),
							inset 0 -3px 3px rgba(0,0,0,.05);

				tr {
					&:not(:last-child) {
						border-bottom-color: rgba(0,0,0,.15);
					}
				}

				td {
					background: transparent;

					&:before { opacity: .75; }

					s {
						background: var( --content-bg );
						border-color: rgba(0,0,0,.25);

						&:before {
							filter: grayscale(100%) brightness(2.5) drop-shadow(0 1px 0 #333);
						}
					}
				}
			}
		}

	}
}
