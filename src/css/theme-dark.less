
&[data-theme="dark"] {

	&.win-body-focused_ {
		.blank-view {
			color: #ddd;
			text-shadow: 0 1px 0 rgba(#000,.125);

			h2 {
				color: #ddd;
			}

			> div {
				> h3 {
					color: #ddd;
				}
			}
		}
		
		sidebar {
			&:after {
				left: -1px;
				border-color: rgba(#000,.4);
			}

			.sidebar-head {
				border-bottom-color: rgba(#000,.35);

				span {
					&:not(:first-child) {
						border-left-color: rgba(#000,.125);
					}
					
					&.active {
						background: rgba(#fff,.1);
						color: #fff;
						
						&:after {
							border-color: rgba(#000,.125);
							border-right-color: transparent;
						}
					}

					&:hover:not(.active),
					&:active:not(.active) { color: rgba(#fff,.75); }
				}
			}

			.sidebar-body {
				.options {
					> span:active,
					> span.active {
						box-shadow: 0 0 0 1px rgba(#000,.15);
					}
				}
			}
		}

		content {
			.head {
				background: rgba(#000,.125);
				border-bottom-color: rgba(#000,.35);
				color: var( --content-fg );
			}

			.foot {
				.selection-type {
					border-color: rgba(#000,.4);
				}
			}
		}
	}

	.blank-view {
		background: transparent;
		color: #999;
		text-shadow: 0 0 0;

		h2 {
			color: #aaa;
		}

		> div {
			> h3 {
				color: #aaa;
			}
		}

		.block-buttons {
			.btn {
				padding-top: 5px;
				padding-bottom: 5px;
				background: rgba(#000,.25);
				box-shadow: inset 0 1px 0 rgba(#000,.075),
							0 0 0 2px rgba(#fff,.35);

				&:hover:not(.disabled_) {
					box-shadow: 0 0 0 3px #489bf770,
								0 0 0 2px #489bf7;
				}

				i {
					top: -1px;
					left: -1px;
					opacity: .35;
					filter: invert(1) brightness(2);
				}
			}
		}

		.block-samples {
			color: #888;

			.sample {
				background-color: rgba(#fff,.15);
			}
		}
	}


	layout {
		background: transparent;
		// background: var( --content-bg );
		color: var( --content-fg );
		text-shadow: var( --text-shadow );
	}

	sidebar {
		background: rgba(#fff,.025);
		
		&:before {
			content: "";
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			width: 1px;
			opacity: .5;
			background: linear-gradient(0deg, transparent 0%, #fff 50%, transparent 100%);
			mix-blend-mode: overlay;
		}

		&:after {
			left: -1px;
			border-color: rgba(#000,.4);
		}

		> .container {
			> div {
				// background: var( --sidebar-bg );
				background: transparent;
			}
		}

		.sidebar-head {
			background: rgba(#000,.1);
			color: var( --sidebar-fg );
			border-bottom-color: rgba(#000,.35);

			span {
				&:not(:first-child) {
					border-left-color: transparent;
				}

				&.active {
					background: rgba(#fff,.1);
					color: #fff;
				}

				&:hover:not(.active),
				&:active:not(.active) { color: rgba(#fff,.75); }
			}
		}

		.sidebar-body {
			.group-row {
				&:not(:last-child) {
					&:before {
						content: "";
						position: absolute;
						left: 17px;
						right: 17px;
						bottom: -1px;
						height: 1px;
						opacity: .75;
						background: linear-gradient(90deg, transparent 0%, #fff 50%, transparent 100%);
						mix-blend-mode: overlay;
					}

					&:after {
						// background: var( --sidebar-border );
						opacity: .3;
						background: linear-gradient(90deg, transparent 0%, #000 50%, transparent 100%);
					}
				}

				&[class*="-options"] {
					> legend {
						&:before {
							border-color: rgba(#fff,.5);
							filter: drop-shadow(1px 0 0 rgba(#000,.35));
						}
					}
				}
			}

			.options {
				background: linear-gradient(to bottom, rgba(#000,.05), rgba(#000,.175));
				border-color: rgba(#000,.175);
				box-shadow: inset 0 1px 0 rgba(#fff,.075),
							0 1px 0 rgba(#fff,.075);

				> span {
					border-right-color: transparent;
					box-shadow: 0 0 0 1px rgba(#000,.15);

					&:not(.active) span {
						filter: invert() drop-shadow(0 1px 0 #333);
					}
				}
			}

			.styles {
				position: relative;
				// background: var( --sidebar-bg );
				// border-bottom-color: var( --sidebar-border );
				background: rgba(#fff,.015);
				border-bottom-color: rgba(#000,.25);

				&:after {
					content: "";
					position: absolute;
					left: 0;
					right: 0;
					bottom: -2px;
					height: 1px;
					opacity: .75;
					background: linear-gradient(90deg, transparent 0%, #fff 50%, transparent 100%);
					mix-blend-mode: overlay;
				}

				span {
					&:hover:not(.active) {
						background: rgba(#fff,.65);
					}
				}
			}

			selectbox {
				&.image-outline,
				&.text-border,
				&.line-stroke,
				&.shape-outline,
				&.table-cell-border,
				&.table-outline {
					option {
						&.prefix-icon:before {
							filter: invert() drop-shadow(0 1px 0 rgba(#000,.25));
						}
					}
				}
			}

			.borders {
				background: rgba(#000,.1);
				border-color: rgba(#000,.2);
				box-shadow: inset 0 1px 0 rgba(#fff,.075),
							inset 0 -1px 0 rgba(#000,.05);

				span {
					border-radius: 1px;
					filter: invert() brightness(.75);

					&.active {
						background-color: rgba(#000,.25);
						box-shadow: 0 0 0 2px rgba(#000,.25);
					}

					&.disabled {
						filter: invert() brightness(.75) opacity(.25);
					}
				}
			}
		}
	}

	content {
		.head {
			background: rgba(#000,.125);
			border-bottom-color: rgba(#000,.35);

			.icon-add {
				filter: invert() brightness(1.5) drop-shadow(0 1px 0 rgba(#000,.25));
			}

			> div {
				.sheet-reel {
					color: rgba(#fff,.5);

					span {
						&.active {
							background: rgba(#fff,.1);
							color: #fff;
						}

						&:hover:not(.active),
						&:active:not(.active) { color: rgba(#fff,.75); }
					}
				}
			}
		}

		.body {
			// background: #5d5d5d;
			background: transparent;
		}

		.foot {
			background: rgba(#000,.125);
			border-top-color: var( --sidebar-border );

			.selection-type {
				border-color: rgba(#000,.3);

				&:after {
					content: "";
					position: absolute;
					top: 0;
					bottom: 0;
					right: -2px;
					width: 1px;
					opacity: .75;
					background: linear-gradient(0deg, transparent 0%, #fff 50%, transparent 100%);
					mix-blend-mode: overlay;
				}
			}

			.selection-value {
				color: #eee;
			}

			.cell-type {
				color: var( --content-fg );
				border-right-color: rgba(#000,.15);
			}

			.cell-value {
				.formula {
					.formula-method {
						background: rgba(#000,.25);
						color: var( --sidebar-fg );
						border-color: rgba(#000,.15);
						filter: saturate(1.25) brightness(.9);
					}

					.formula-value {
						background: var( --sidebar-bg );
						border-color: rgba(#000,.25);
						filter: saturate(1.5) brightness(1.125);
					}
				}
			}

		}
	}


	.selection textarea,
	table.sheet {
		color: var( --content-fg );
	}

	table.sheet {
		border-left-color: rgba(#000,.25);
		border-top-color: rgba(#000,.25);

		td {
			border-right-color: rgba(#000,.25);
			border-bottom-color: rgba(#000,.25);

			&.active {
				text-shadow: 0 0 0;
			}
		}
	}

	// --hlOl: #111;
	// --hlBg: radial-gradient(ellipse at bottom center, #5f79ff4f, transparent 80%),
	// 		linear-gradient(180deg, #60567b 0px, #464259 10px, #201c33 11px, #1d1c3b 100%);
	--hlBg: rgba(#fff,.2);
	--hlFg: #99b;
	--hlHl: rgba(#fff,.7);
	--hlHl2: rgba(#fff,.5);
	--hlHlBg: rgba(#fff,.35);
	--hlOl: rgba(#000,.25);

	.table-tools {
		.table-tool {
			color: var( --hlFg );

			&.table-rows,
			&.table-cols {
				background: transparent;

				&:before {
					box-shadow: 0 0 0 1px var( --hlOl );
				}

				table {
					tr {
						border-color: var( --hlOl );

						&.active {
							background: var( --hlHlBg );

							td {
								color: var( --hlHl );

								&:after {
									border-color: var( --hlOl );
								}
							}
						}
					}

					tr td {
						background: var( --hlBg );
						border-color: var( --hlOl );

						&.active {
							background: var( --hlHlBg );
							color: var( --hlHl );

							&:after {
								border-color: var( --hlOl );
							}
						}
					}
				}
			}
		}

		.tool {
			background: var( --content-bg );
			filter: brightness(1.1) saturate(1.15);
			box-shadow: 0 0 0 1px rgba(#000,.175),
						0 2px 3px rgba(#000,.35);
			color: var( --content-fg );

			&:before {
				filter: brightness(2) grayscale(1) drop-shadow(0 1px 0 rgba(#000,.5));
				background-color: rgba(#fff,.125);
			}

			&.selection {
				border-color: #fff;

				.handle {
					background: #fff;
					box-shadow: 0 0 0 1px rgba(#000,.175),
								0 1px 3px rgba(#000,.35);
				}

				textarea {
					text-shadow: var( --text-shadow );
				}
			}
		}

		table {
			color: var( --hlHl2 );

			&.table-cols {
				filter: brightness(1.1) saturate(1.15);
				background: var( --content-bg );
				background-image: linear-gradient(to bottom, rgba(#fff,.05), rgba(#000,.075));
				box-shadow: 0 0 0 1px rgba(#000,.15),
							0 1px 3px rgba(#000,.25);

				td {
					background: transparent;

					&:before { opacity: .75; }

					&:not(:last-child) {
						border-right-color: rgba(#000,.2);
					}

					s {
						filter: grayscale(100%) brightness(1.85) drop-shadow(0 1px 0 #333);
					}
				}
			}

			&.table-rows {
				filter: brightness(1.1) saturate(1.15);
				background: var( --content-bg );
				background-image: linear-gradient(to right, rgba(#000,.075), rgba(#fff,.025), rgba(#000,.075));
				box-shadow: 0 0 0 1px rgba(#000,.15),
							0 1px 3px rgba(#000,.25),
							inset 0 3px 3px rgba(#fff,.05),
							inset 0 -3px 3px rgba(#000,.05);

				tr {
					&:not(:last-child) {
						border-bottom-color: rgba(#000,.2);
					}
				}

				td {
					background: transparent;

					&:before { opacity: .75; }

					s {
						background: var( --content-bg );
						border-color: rgba(#000,.25);

						&:before {
							filter: grayscale(100%) brightness(2.5) drop-shadow(0 1px 0 #333);
						}
					}
				}
			}
		}
	}

	.xl-table {
		// --tbl-border-color: #6e6d9a;
		--tbl-border-color: rgba(#fff,.25);
		color: #eee;

		th,
		td {
			--border-color: rgba(#fff,.25);

			&[f]:after {
				border-top-color: rgba(#fff,.25);
			}
		}
	}
}
